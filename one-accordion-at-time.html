<style>
  /* Hover state  when not active*/
  @media screen and (min-width: 992px) {
    .accordion:not(:has(.accordion__head.is--active)):hover {
      background-color: #2c2c2d !important;
    }
  }
</style>
<script>
  // Only one accordion open at a time with WF animations
  document.addEventListener('DOMContentLoaded', () => {
    const accordionWrapSelector = '.accordions';
    const accordionTriggerSelector = '.accordion__head';
    const activeClass = 'is--active';

    document.querySelectorAll(`${accordionWrapSelector} ${accordionTriggerSelector}`).forEach((accordionHead) => {
      accordionHead.addEventListener('click', (e) => {
        if (e.isTrusted) {
          // Handle the clicked accordion
          accordionHead.classList.toggle(activeClass);
          // Handle other accordions
          document.querySelectorAll(`${accordionWrapSelector} ${accordionTriggerSelector}.${activeClass}`).forEach((activeHead) => {
            if (activeHead !== accordionHead) {
              activeHead.click();
              activeHead.classList.remove(activeClass);
            }
          });
        }
      });
    });
  });
</script>
<script>
  // V3 - Only one accordion open at a time with WF animations
  window.addEventListener('load', () => {
    const accordionWrapSelector = '.faqs_wrap';
    const accordionTriggerSelector = '.faq_icon-wrap';
    const activeClass = 'is--active';
    const allAccordions = document.querySelectorAll(`${accordionWrapSelector} ${accordionTriggerSelector}`);

    allAccordions.forEach((accordionHead) => {
      accordionHead.addEventListener('click', (e) => {
        if (!e.isTrusted) return;
        const isAlreadyActive = accordionHead.classList.contains(activeClass);

        allAccordions.forEach((head) => {
          if (head !== accordionHead && head.classList.contains(activeClass)) {
            head.classList.remove(activeClass);
            head.click();
          }
        });

        if (!isAlreadyActive) accordionHead.classList.add(activeClass);
        else accordionHead.classList.remove(activeClass);
      });
    });
  });
</script>
<!-- With custom JS animation -->
<style>
.faqs .faq__left__a {
  height: 0px;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Only one open at a time
  const accordionWrapSelector = '.faqs';
  const accordionTriggerSelector = '.faq__left__q';
  const accordionSelector = '.faq';
  const contentSelector = '.faq__left__a';
  const arrowSelector = '.faq__right';
  const activeClass = 'is--active';
  const accordionHeads = document.querySelectorAll(`${accordionWrapSelector} ${accordionTriggerSelector}`);

  accordionHeads.forEach((accordionHead) => {
    const content = accordionHead.parentElement.querySelector(contentSelector);
    const arrow = accordionHead.closest(accordionSelector).querySelector(arrowSelector);
    console.log(arrow);

    accordionHead.addEventListener('click', (e) => {
      const isActive = accordionHead.classList.contains(activeClass);

      accordionHeads.forEach((head) => {
        if (head !== accordionHead && head.classList.contains(activeClass)) {
          head.classList.remove(activeClass);
          const activeContent = head.parentElement.querySelector(contentSelector);
          activeContent.style.height = activeContent.scrollHeight + 'px';
          requestAnimationFrame(() => {
            activeContent.style.height = '0px';
          });
        }
      });

      if (!isActive) {
        accordionHead.classList.add(activeClass);
        content.style.height = content.scrollHeight + 'px';
        content.addEventListener('transitionend', function handler() {
          if (accordionHead.classList.contains(activeClass)) {
            content.style.height = 'auto';
          }
          content.removeEventListener('transitionend', handler);
        });
      } else {
        accordionHead.classList.remove(activeClass);
        content.style.height = content.scrollHeight + 'px';
        requestAnimationFrame(() => {
          content.style.height = '0px';
        });
      }
    });

    // Trigger also on arrow click
    arrow?.addEventListener('click', (e) => {
      accordionHead.click();
    });
  });

  // Open initial FAQ
  const initiallyOpenFaq = document.querySelector('.faqs [is-initially-open="true"]');
  if (initiallyOpenFaq) {
    const trigger = initiallyOpenFaq.querySelector('.faq__left__q');
    trigger.click();
  }
});

</script>
