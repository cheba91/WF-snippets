<script>
  // Unwrap nested collection, eg. if nested with Finsweet nest
  const unwrapCollection = () => {
    [
      ...document.querySelectorAll('.blog__categories .collection'),
      ...document.querySelectorAll('.blog__categories .collection__list'),
      ...document.querySelectorAll('.blog__categories [role=listitem]'),
    ].forEach((el) => el.replaceWith(...el.childNodes));
  };
  const collections = document.querySelectorAll('.blog__categories');
  collections.forEach((el) => {
    const observer = new MutationObserver(unwrapCollection);
    observer.observe(el, { childList: true });
  });
</script>

<!-- Unwrap and add commas -->
<style>
  .categories .body-s.is--link::after {
    content: ',';
    display: inline-block;
    margin-right: 0.3em;
  }
  .categories .body-s.is--link:last-child::after {
    content: '';
  }
</style>
<script>
  window.addEventListener('load', () => {
    const cmsColl = document.querySelector('.coll-wrap');
    const cmsItems = cmsColl.querySelectorAll('.coll__item');
    
    if (!cmsItems.length) cmsColl.remove();
    else [cmsColl, cmsColl.querySelector("[role='list']"), ...cmsItems].forEach((el) => el.replaceWith(...el.childNodes));
  });
</script>

